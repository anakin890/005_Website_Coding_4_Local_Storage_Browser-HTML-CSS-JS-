<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<!-- Coding CSS di HTML namun dititup, jika ingin tahu contoh implementasi ada pada index_1.html-->
<style>
  /* Untuk  <div id="root"> (Ingat bahwa div identik dengan #)*/
  #root {
    background-color: tomato;
    color: white;
    font-size: 2em;
    text-align: center;
    height: 100vh;
  }
</style>

<body>
  <!-- Bagian KONTEN -->
  <!-- Coding javascript di HTML-->
  <div id="root">
    <input type="text" placeholder="username" id="usernameInput" /> 
    <input type="password" placeholder="password" id="passwordInput" /> 
    <button onclick="onLogin()" id="loginButton">LOGIN</button>
    <button onclick="onLogout()" id="logoutButton">LOGOUT</button>
    <!-- Beri jarak pakai <br/> -->
    <br/> 
    <h1 id="admin">LOGIN SEBAGAI ADMIN</h1>
    <h1 id="basic">LOGIN SEBAGAI USER BIASA</h1>
  </div>

  <script type="application/javascript">

    let usernameInput = document.getElementById('usernameInput');
    let passwordInput = document.getElementById('passwordInput');
    let loginButton = document.getElementById('loginButton');
    let logoutButton = document.getElementById('logoutButton');
    let admin = document.getElementById('admin');
    let basic = document.getElementById('basic');

    admin.style.display = "none";
    basic.style.display = "none";
    logoutButton.style.display = "none";


    function onLogin() {
      // Kemudian kita membuat Local Storage, dapat dilihat pada Inspect --> Application --> Local Storage
      localStorage.setItem("username", usernameInput.value);
      logoutButton.style.display = "block";
      // Lalu Validasi Hak Akses 
      // BISA MENJADI TEMUAN AUDIT JIKA VALIDASINYA SEPERTI INI 
      if(usernameInput.value == "admin" && passwordInput.value == "admin123"){
        alert('login sebagai admin');
        localStorage.setItem("role", "admin");
        usernameInput.style.display = "none"
        passwordInput.style.display = "none"
        loginButton.style.display = "none"
        basic.style.display = "none";
        admin.style.display = "block";
      }else {
        alert('user login biasa');
        localStorage.setItem("role", "basic");
        usernameInput.style.display = "none"
        passwordInput.style.display = "none"
        loginButton.style.display = "none"
        admin.style.display = "none";
        basic.style.display = "block";
      }

    }

    if(localStorage.getItem('username')){
      usernameInput.style.display = "none"
      passwordInput.style.display = "none"
      loginButton.style.display = "none"
      logoutButton.style.display = "block"
      if(localStorage.getItem('role') == "admin"){
        basic.style.display = "none";
        admin.style.display = "block";
      }else{
        admin.style.display = "none";
        basic.style.display = "block";
      }
    }


    function onLogout() {
      localStorage.clear();
      location.reload()
    }
    
  </script>

  </form>
</body>
</html>
